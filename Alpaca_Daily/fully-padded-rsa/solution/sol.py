from sympy import *
from Crypto.Util.number import long_to_bytes

n = 91102717210596990388603678426683097953697889897819753293818443119019220403217013812232251320814152567699322671590559119510246139859891156830672838769529887961956970370968572962306584295059185945752892892100975462391203805852473243296747559459800718013816237662990504689724747628304890125129146326331097856907
c1 = 84316690833236468829386139306045298111202426584048821548102362931269993141514516100633466389955824290011995159677864206138653174440904170622039293036862729884826231898868928186453091113165643576890891297150845933751243965934735328928976655465009980896153972226679588496970771925581698573227941539852081781874
c2 = 74682069306151159606579889187354529286195652598555930926994495384029865435810129236911316774977007932641783161876484392995815937986886903514990618178943843429073696833993271982336114314882872652681858748846455760309012235191324385691614015531641062111894149446939460102878320469041435024347449132388644171970

def modexp(base, exp, mod):
    if exp >= 0:
        return pow(base, exp, mod)
    base_inv = invert(base, mod)
    return pow(base_inv, -exp, mod)

e1 = 65517
e2 = 65577

g = gcd(e1, e2)
assert g == 3

e1p = e1 // g
e2p = e2 // g

u, v, g2 = gcdex(e1p, e2p)
u = int(u)
v = int(v)
assert g2 == 1

m1 = modexp(c1, u, n)
m2 = modexp(c2, v, n)
m3 = (m1 * m2) % n

t3 = n - m3
t, exact = integer_nthroot(t3, 3)

m = n - t

flag = long_to_bytes(m)

## 綺麗にするため書く
prefix = b"Alpaca{"
start = flag.rfind(prefix)
end = flag.find(b"}", start)
print(flag[start:end + 1].decode("utf-8"))